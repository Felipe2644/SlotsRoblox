--[[
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                          â•‘
â•‘     â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                       â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•                       â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                         â•‘
â•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•                         â•‘
â•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                       â•‘
â•‘      â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•   â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•â•â•â•â•â•                       â•‘
â•‘                                                                                          â•‘
â•‘                    GOD MODE + REGENERAÃ‡ÃƒO DEFINITIVO v4.0                                â•‘
â•‘                         Para Executores Mobile Roblox                                    â•‘
â•‘                                                                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  CARACTERÃSTICAS:                                                                        â•‘
â•‘  â€¢ MÃºltiplas camadas de proteÃ§Ã£o                                                         â•‘
â•‘  â€¢ InterceptaÃ§Ã£o de dano em tempo real (cada frame)                                      â•‘
â•‘  â€¢ Anti-morte por qualquer mÃ©todo                                                        â•‘
â•‘  â€¢ RegeneraÃ§Ã£o configurÃ¡vel                                                              â•‘
â•‘  â€¢ Anti-void e Anti-fling                                                                â•‘
â•‘  â€¢ Interface mobile-friendly                                                             â•‘
â•‘  â€¢ SEM teleportes ou bugs                                                                â•‘
â•‘                                                                                          â•‘
â•‘  COMPATÃVEL COM: Delta, Fluxus, Arceus X, Hydrogen, Codex e outros                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--]]

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SERVIÃ‡OS DO ROBLOX
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local Workspace = game:GetService("Workspace")

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- VARIÃVEIS GLOBAIS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local Player = Players.LocalPlayer
local Connections = {}
local ScriptEnabled = true

-- ESTADOS DO SCRIPT
local State = {
    GodMode = false,
    Regeneration = false,
    AntiVoid = false,
    AntiFling = false,
    AntiKillbrick = false
}

-- CONFIGURAÃ‡Ã•ES
local Config = {
    -- RegeneraÃ§Ã£o
    RegenRate = 10,              -- HP regenerado por segundo
    RegenDelay = 1,              -- Delay apÃ³s tomar dano para comeÃ§ar regen
    
    -- Anti-Void
    VoidThreshold = -150,        -- Altura mÃ­nima antes de teleportar de volta
    
    -- Anti-Fling
    MaxVelocity = 200,           -- Velocidade mÃ¡xima permitida
    
    -- God Mode
    UseInfiniteHealth = true,    -- Usar vida infinita (math.huge)
    HealthValue = 999999999,     -- Valor de vida se nÃ£o usar infinito
    
    -- Interface
    GuiDraggable = true,
    NotificationsEnabled = true
}

-- VariÃ¡veis de controle
local LastHealth = 100
local LastSafePosition = nil
local LastDamageTime = 0
local OriginalMaxHealth = 100

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- FUNÃ‡Ã•ES UTILITÃRIAS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function Notify(title, text, duration)
    if not Config.NotificationsEnabled then return end
    
    pcall(function()
        StarterGui:SetCore("SendNotification", {
            Title = title or "Ultimate GodMode",
            Text = text or "",
            Duration = duration or 3
        })
    end)
end

local function SafeCall(func, ...)
    local success, result = pcall(func, ...)
    return success, result
end

local function GetCharacter()
    return Player.Character
end

local function GetHumanoid()
    local char = GetCharacter()
    if char then
        return char:FindFirstChildWhichIsA("Humanoid")
    end
    return nil
end

local function GetRootPart()
    local char = GetCharacter()
    if char then
        return char:FindFirstChild("HumanoidRootPart")
    end
    return nil
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SISTEMA DE GOD MODE - NÃšCLEO PRINCIPAL
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function ApplyGodModeProtection()
    local humanoid = GetHumanoid()
    if not humanoid then return end
    
    -- Salva MaxHealth original se ainda nÃ£o foi salvo
    if OriginalMaxHealth == 100 and humanoid.MaxHealth ~= math.huge then
        OriginalMaxHealth = humanoid.MaxHealth
    end
    
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -- CAMADA 1: Desabilitar estados perigosos
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    SafeCall(function()
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Dead, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics, false)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding, false)
    end)
    
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -- CAMADA 2: Propriedades de proteÃ§Ã£o
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    SafeCall(function()
        humanoid.BreakJointsOnDeath = false
        humanoid.RequiresNeck = false
    end)
    
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -- CAMADA 3: Definir vida
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    SafeCall(function()
        if Config.UseInfiniteHealth then
            humanoid.MaxHealth = math.huge
            humanoid.Health = math.huge
            LastHealth = math.huge
        else
            humanoid.MaxHealth = Config.HealthValue
            humanoid.Health = Config.HealthValue
            LastHealth = Config.HealthValue
        end
    end)
end

local function RemoveGodModeProtection()
    local humanoid = GetHumanoid()
    if not humanoid then return end
    
    SafeCall(function()
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Dead, true)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.FallingDown, true)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, true)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.Physics, true)
        humanoid:SetStateEnabled(Enum.HumanoidStateType.PlatformStanding, true)
        
        humanoid.MaxHealth = OriginalMaxHealth
        humanoid.Health = math.min(humanoid.Health, OriginalMaxHealth)
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- LOOP PRINCIPAL DE PROTEÃ‡ÃƒO (HEARTBEAT)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function MainProtectionLoop()
    local humanoid = GetHumanoid()
    local rootPart = GetRootPart()
    
    if not humanoid then return end
    
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -- GOD MODE: ProteÃ§Ã£o de vida
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    if State.GodMode then
        -- Verifica se tomou dano
        if humanoid.Health < LastHealth then
            -- REVERTER DANO INSTANTANEAMENTE
            SafeCall(function()
                if Config.UseInfiniteHealth then
                    humanoid.Health = math.huge
                else
                    humanoid.Health = Config.HealthValue
                end
            end)
            LastDamageTime = tick()
        end
        
        -- MantÃ©m MaxHealth
        SafeCall(function()
            if Config.UseInfiniteHealth then
                if humanoid.MaxHealth ~= math.huge then
                    humanoid.MaxHealth = math.huge
                end
            else
                if humanoid.MaxHealth ~= Config.HealthValue then
                    humanoid.MaxHealth = Config.HealthValue
                end
            end
        end)
        
        -- Previne estado de morte
        SafeCall(function()
            if humanoid:GetState() == Enum.HumanoidStateType.Dead then
                humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
                if Config.UseInfiniteHealth then
                    humanoid.Health = math.huge
                else
                    humanoid.Health = Config.HealthValue
                end
            end
        end)
        
        -- Atualiza LastHealth
        LastHealth = humanoid.Health
    end
    
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -- REGENERAÃ‡ÃƒO: Cura gradual
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    if State.Regeneration and not State.GodMode then
        if humanoid.Health < humanoid.MaxHealth then
            if tick() - LastDamageTime > Config.RegenDelay then
                SafeCall(function()
                    local healAmount = Config.RegenRate * RunService.Heartbeat:Wait()
                    humanoid.Health = math.min(humanoid.Health + healAmount, humanoid.MaxHealth)
                end)
            end
        end
    end
    
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -- ANTI-VOID: Previne morte por queda
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    if State.AntiVoid and rootPart then
        -- Salva posiÃ§Ã£o segura
        if rootPart.Position.Y > Config.VoidThreshold + 50 then
            LastSafePosition = rootPart.CFrame
        end
        
        -- Teleporta de volta se cair no void
        if rootPart.Position.Y < Config.VoidThreshold then
            if LastSafePosition then
                SafeCall(function()
                    rootPart.CFrame = LastSafePosition
                    rootPart.AssemblyLinearVelocity = Vector3.new(0, 0, 0)
                end)
            end
        end
    end
    
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    -- ANTI-FLING: Previne morte por velocidade extrema
    -- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    if State.AntiFling and rootPart then
        SafeCall(function()
            local velocity = rootPart.AssemblyLinearVelocity
            if velocity.Magnitude > Config.MaxVelocity then
                rootPart.AssemblyLinearVelocity = velocity.Unit * Config.MaxVelocity
            end
            
            local angularVel = rootPart.AssemblyAngularVelocity
            if angularVel.Magnitude > 50 then
                rootPart.AssemblyAngularVelocity = angularVel.Unit * 10
            end
        end)
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SISTEMA DE ANTI-KILLBRICK
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function SetupAntiKillbrick()
    local char = GetCharacter()
    if not char then return end
    
    for _, part in pairs(char:GetDescendants()) do
        if part:IsA("BasePart") then
            SafeCall(function()
                part.Touched:Connect(function(hit)
                    if not State.AntiKillbrick then return end
                    
                    local name = hit.Name:lower()
                    if name:find("kill") or name:find("death") or 
                       name:find("damage") or name:find("lava") or
                       name:find("spike") or name:find("trap") or
                       name:find("hurt") then
                        -- Aplica proteÃ§Ã£o imediata
                        local humanoid = GetHumanoid()
                        if humanoid and State.GodMode then
                            if Config.UseInfiniteHealth then
                                humanoid.Health = math.huge
                            else
                                humanoid.Health = Config.HealthValue
                            end
                        end
                    end
                end)
            end)
        end
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MONITORAMENTO DE MUDANÃ‡AS DE VIDA
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function SetupHealthMonitor()
    local humanoid = GetHumanoid()
    if not humanoid then return end
    
    -- Monitora mudanÃ§as de vida
    Connections.HealthChanged = humanoid:GetPropertyChangedSignal("Health"):Connect(function()
        if not State.GodMode then return end
        
        SafeCall(function()
            if humanoid.Health < LastHealth then
                -- Dano detectado - reverter IMEDIATAMENTE
                task.defer(function()
                    if Config.UseInfiniteHealth then
                        humanoid.Health = math.huge
                    else
                        humanoid.Health = Config.HealthValue
                    end
                end)
            end
        end)
    end)
    
    -- Monitora mudanÃ§as de estado
    Connections.StateChanged = humanoid.StateChanged:Connect(function(old, new)
        if not State.GodMode then return end
        
        if new == Enum.HumanoidStateType.Dead then
            SafeCall(function()
                humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
                if Config.UseInfiniteHealth then
                    humanoid.Health = math.huge
                else
                    humanoid.Health = Config.HealthValue
                end
            end)
        end
    end)
    
    -- Monitora mudanÃ§as de MaxHealth
    Connections.MaxHealthChanged = humanoid:GetPropertyChangedSignal("MaxHealth"):Connect(function()
        if not State.GodMode then return end
        
        SafeCall(function()
            if Config.UseInfiniteHealth then
                if humanoid.MaxHealth ~= math.huge then
                    humanoid.MaxHealth = math.huge
                    humanoid.Health = math.huge
                end
            else
                if humanoid.MaxHealth ~= Config.HealthValue then
                    humanoid.MaxHealth = Config.HealthValue
                end
            end
        end)
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- SETUP DO PERSONAGEM
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function SetupCharacter(char)
    if not char then return end
    
    -- Aguarda humanoid carregar
    local humanoid = char:WaitForChild("Humanoid", 10)
    if not humanoid then return end
    
    -- Aguarda um pouco para o personagem estabilizar
    task.wait(0.3)
    
    -- Salva posiÃ§Ã£o inicial como segura
    local rootPart = char:FindFirstChild("HumanoidRootPart")
    if rootPart then
        LastSafePosition = rootPart.CFrame
    end
    
    -- Salva MaxHealth original
    OriginalMaxHealth = humanoid.MaxHealth
    LastHealth = humanoid.Health
    
    -- Configura monitores
    SetupHealthMonitor()
    SetupAntiKillbrick()
    
    -- Aplica proteÃ§Ãµes se ativas
    if State.GodMode then
        ApplyGodModeProtection()
        Notify("God Mode", "ProteÃ§Ã£o reaplicada!", 2)
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- FUNÃ‡Ã•ES DE CONTROLE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function ToggleGodMode(enable)
    State.GodMode = enable
    
    if enable then
        ApplyGodModeProtection()
        Notify("God Mode", "ATIVADO - VocÃª estÃ¡ imortal!", 3)
    else
        RemoveGodModeProtection()
        Notify("God Mode", "Desativado", 2)
    end
end

local function ToggleRegeneration(enable)
    State.Regeneration = enable
    Notify("RegeneraÃ§Ã£o", enable and "ATIVADA" or "Desativada", 2)
end

local function ToggleAntiVoid(enable)
    State.AntiVoid = enable
    Notify("Anti-Void", enable and "ATIVADO" or "Desativado", 2)
end

local function ToggleAntiFling(enable)
    State.AntiFling = enable
    Notify("Anti-Fling", enable and "ATIVADO" or "Desativado", 2)
end

local function ToggleAntiKillbrick(enable)
    State.AntiKillbrick = enable
    Notify("Anti-Killbrick", enable and "ATIVADO" or "Desativado", 2)
end

local function ToggleAll(enable)
    ToggleGodMode(enable)
    ToggleAntiVoid(enable)
    ToggleAntiFling(enable)
    ToggleAntiKillbrick(enable)
    
    if enable then
        Notify("PROTEÃ‡ÃƒO TOTAL", "Todas as proteÃ§Ãµes ATIVADAS!", 3)
    else
        Notify("ProteÃ§Ãµes", "Todas desativadas", 2)
    end
end

local function HealFull()
    local humanoid = GetHumanoid()
    if humanoid then
        SafeCall(function()
            humanoid.Health = humanoid.MaxHealth
        end)
        Notify("Cura", "Vida restaurada!", 2)
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- INTERFACE GRÃFICA (GUI)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function CreateGUI()
    -- Remove GUI existente
    local existingGui = Player.PlayerGui:FindFirstChild("UltimateGodModeGUI")
    if existingGui then existingGui:Destroy() end
    
    -- Cria ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "UltimateGodModeGUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    -- Frame Principal
    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 240, 0, 340)
    MainFrame.Position = UDim2.new(0, 15, 0.5, -170)
    MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 35)
    MainFrame.BorderSizePixel = 0
    MainFrame.Active = true
    MainFrame.Parent = ScreenGui
    
    local MainCorner = Instance.new("UICorner")
    MainCorner.CornerRadius = UDim.new(0, 12)
    MainCorner.Parent = MainFrame
    
    -- Borda com gradiente
    local MainStroke = Instance.new("UIStroke")
    MainStroke.Color = Color3.fromRGB(80, 150, 255)
    MainStroke.Thickness = 2
    MainStroke.Parent = MainFrame
    
    -- TÃ­tulo
    local TitleBar = Instance.new("Frame")
    TitleBar.Name = "TitleBar"
    TitleBar.Size = UDim2.new(1, 0, 0, 45)
    TitleBar.BackgroundColor3 = Color3.fromRGB(60, 120, 200)
    TitleBar.BorderSizePixel = 0
    TitleBar.Parent = MainFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 12)
    TitleCorner.Parent = TitleBar
    
    -- Fix para cantos inferiores do tÃ­tulo
    local TitleFix = Instance.new("Frame")
    TitleFix.Size = UDim2.new(1, 0, 0, 15)
    TitleFix.Position = UDim2.new(0, 0, 1, -15)
    TitleFix.BackgroundColor3 = Color3.fromRGB(60, 120, 200)
    TitleFix.BorderSizePixel = 0
    TitleFix.Parent = TitleBar
    
    local TitleText = Instance.new("TextLabel")
    TitleText.Size = UDim2.new(1, 0, 1, 0)
    TitleText.BackgroundTransparency = 1
    TitleText.Text = "âš¡ ULTIMATE GODMODE"
    TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleText.TextSize = 16
    TitleText.Font = Enum.Font.GothamBold
    TitleText.Parent = TitleBar
    
    -- Container de botÃµes
    local ButtonContainer = Instance.new("Frame")
    ButtonContainer.Name = "ButtonContainer"
    ButtonContainer.Size = UDim2.new(1, -20, 1, -55)
    ButtonContainer.Position = UDim2.new(0, 10, 0, 50)
    ButtonContainer.BackgroundTransparency = 1
    ButtonContainer.Parent = MainFrame
    
    local UIListLayout = Instance.new("UIListLayout")
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayout.Padding = UDim.new(0, 8)
    UIListLayout.Parent = ButtonContainer
    
    -- FunÃ§Ã£o para criar botÃµes toggle
    local function CreateToggleButton(name, text, order, callback)
        local Button = Instance.new("TextButton")
        Button.Name = name
        Button.Size = UDim2.new(1, 0, 0, 40)
        Button.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
        Button.Text = text
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 13
        Button.Font = Enum.Font.GothamSemibold
        Button.LayoutOrder = order
        Button.Parent = ButtonContainer
        
        local BtnCorner = Instance.new("UICorner")
        BtnCorner.CornerRadius = UDim.new(0, 8)
        BtnCorner.Parent = Button
        
        local isActive = false
        
        Button.MouseButton1Click:Connect(function()
            isActive = not isActive
            callback(isActive)
            
            if isActive then
                Button.BackgroundColor3 = Color3.fromRGB(50, 180, 80)
                Button.Text = text:gsub("ğŸ”´", "ğŸŸ¢")
            else
                Button.BackgroundColor3 = Color3.fromRGB(50, 50, 70)
                Button.Text = text:gsub("ğŸŸ¢", "ğŸ”´")
            end
        end)
        
        return Button
    end
    
    -- FunÃ§Ã£o para criar botÃµes de aÃ§Ã£o
    local function CreateActionButton(name, text, order, color, callback)
        local Button = Instance.new("TextButton")
        Button.Name = name
        Button.Size = UDim2.new(1, 0, 0, 35)
        Button.BackgroundColor3 = color
        Button.Text = text
        Button.TextColor3 = Color3.fromRGB(255, 255, 255)
        Button.TextSize = 12
        Button.Font = Enum.Font.GothamSemibold
        Button.LayoutOrder = order
        Button.Parent = ButtonContainer
        
        local BtnCorner = Instance.new("UICorner")
        BtnCorner.CornerRadius = UDim.new(0, 8)
        BtnCorner.Parent = Button
        
        Button.MouseButton1Click:Connect(callback)
        
        return Button
    end
    
    -- Criar botÃµes
    CreateToggleButton("GodModeBtn", "ğŸ”´ GOD MODE", 1, ToggleGodMode)
    CreateToggleButton("AntiVoidBtn", "ğŸ”´ ANTI-VOID", 2, ToggleAntiVoid)
    CreateToggleButton("AntiFlingBtn", "ğŸ”´ ANTI-FLING", 3, ToggleAntiFling)
    CreateToggleButton("AntiKillbrickBtn", "ğŸ”´ ANTI-KILLBRICK", 4, ToggleAntiKillbrick)
    CreateToggleButton("RegenBtn", "ğŸ”´ REGENERAÃ‡ÃƒO", 5, ToggleRegeneration)
    
    -- BotÃµes de aÃ§Ã£o
    CreateActionButton("HealBtn", "ğŸ’š CURAR VIDA", 6, Color3.fromRGB(50, 150, 100), HealFull)
    CreateActionButton("AllOnBtn", "âš¡ ATIVAR TUDO", 7, Color3.fromRGB(200, 150, 50), function() ToggleAll(true) end)
    
    -- Drag functionality para mobile
    local dragging = false
    local dragStart = nil
    local startPos = nil
    
    TitleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or 
           input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
        end
    end)
    
    TitleBar.InputEnded:Connect(function(input)
        dragging = false
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or 
                        input.UserInputType == Enum.UserInputType.Touch) then
            local delta = input.Position - dragStart
            MainFrame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
    
    -- AnimaÃ§Ã£o de borda
    spawn(function()
        local hue = 0
        while ScreenGui.Parent do
            hue = (hue + 0.5) % 360
            local color = Color3.fromHSV(hue/360, 0.7, 1)
            
            local tween = TweenService:Create(MainStroke, TweenInfo.new(0.5), {
                Color = color
            })
            tween:Play()
            
            task.wait(0.5)
        end
    end)
    
    ScreenGui.Parent = Player.PlayerGui
    
    return ScreenGui
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- COMANDOS DE CHAT
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Player.Chatted:Connect(function(message)
    local msg = message:lower()
    
    if msg == "/god" or msg == "/godmode" then
        ToggleGodMode(not State.GodMode)
    elseif msg == "/heal" or msg == "/curar" then
        HealFull()
    elseif msg == "/regen" then
        ToggleRegeneration(not State.Regeneration)
    elseif msg == "/antivoid" then
        ToggleAntiVoid(not State.AntiVoid)
    elseif msg == "/antifling" then
        ToggleAntiFling(not State.AntiFling)
    elseif msg == "/all" then
        ToggleAll(true)
    elseif msg == "/off" then
        ToggleAll(false)
    elseif msg == "/help" or msg == "/ajuda" then
        Notify("Comandos", "/god /heal /regen /antivoid /antifling /all /off", 5)
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- INICIALIZAÃ‡ÃƒO
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

local function Initialize()
    -- Configura personagem atual
    if Player.Character then
        SetupCharacter(Player.Character)
    end
    
    -- Monitora novos personagens
    Connections.CharacterAdded = Player.CharacterAdded:Connect(function(char)
        -- Limpa conexÃµes antigas
        for name, conn in pairs(Connections) do
            if name ~= "CharacterAdded" and name ~= "MainLoop" then
                if conn and typeof(conn) == "RBXScriptConnection" then
                    SafeCall(function() conn:Disconnect() end)
                end
            end
        end
        
        SetupCharacter(char)
    end)
    
    -- Loop principal de proteÃ§Ã£o
    Connections.MainLoop = RunService.Heartbeat:Connect(function()
        if ScriptEnabled then
            MainProtectionLoop()
        end
    end)
    
    -- Cria GUI
    CreateGUI()
    
    -- NotificaÃ§Ã£o inicial
    Notify("Ultimate GodMode v4.0", "Script carregado! Use a GUI ou /help", 4)
end

-- Inicia o script
Initialize()

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- MENSAGEM DE CONSOLE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

print([[

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     ULTIMATE GODMODE v4.0 CARREGADO                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                              â•‘
â•‘  FUNCIONALIDADES:                                                            â•‘
â•‘  â€¢ God Mode - Vida infinita + anti-dano                                      â•‘
â•‘  â€¢ Anti-Void - Previne morte por queda                                       â•‘
â•‘  â€¢ Anti-Fling - Previne morte por velocidade extrema                         â•‘
â•‘  â€¢ Anti-Killbrick - Imunidade a killbricks                                   â•‘
â•‘  â€¢ RegeneraÃ§Ã£o - Cura gradual de vida                                        â•‘
â•‘                                                                              â•‘
â•‘  COMANDOS DE CHAT:                                                           â•‘
â•‘  /god - Ativa/desativa God Mode                                              â•‘
â•‘  /heal - Cura instantÃ¢nea                                                    â•‘
â•‘  /regen - Ativa/desativa regeneraÃ§Ã£o                                         â•‘
â•‘  /antivoid - Ativa/desativa anti-void                                        â•‘
â•‘  /antifling - Ativa/desativa anti-fling                                      â•‘
â•‘  /all - Ativa todas as proteÃ§Ãµes                                             â•‘
â•‘  /off - Desativa todas as proteÃ§Ãµes                                          â•‘
â•‘  /help - Mostra comandos                                                     â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

]])
